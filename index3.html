<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>📚 جدول مذاكرة الامتحانات</title>
<style>
    body { font-family: 'Segoe UI', Tahoma, sans-serif; background: #f4f6f9; margin: 20px; color: #333; }
    h1 { text-align: center; margin-bottom: 5px; }
    h3 { text-align: center; color: #555; margin-top: 0; }
    table { border-collapse: collapse; width: 100%; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 3px 8px rgba(0,0,0,0.1); }
    th, td { border: 1px solid #ddd; padding: 10px; text-align: center; }
    th { background: #007bff; color: white; font-size: 16px; }
    input[type="checkbox"] { transform: scale(1.3); cursor: pointer; }
    tr.done { background: #d4edda; }
    .progress-container { margin: 15px auto; max-width: 500px; background: #e9ecef; border-radius: 20px; overflow: hidden; height: 25px; }
    .progress-bar { height: 100%; background: #28a745; text-align: center; color: white; line-height: 25px; font-size: 14px; transition: width 0.3s; }
    .stats { text-align: center; margin: 10px 0; font-size: 16px; }
</style>
</head>
<body>

<h1>📚 جدول مذاكرة الامتحانات</h1>
<h3>حدد المهام التي أنجزتها وسيتم حفظ تقدمك تلقائيًا</h3>

<div class="progress-container">
    <div class="progress-bar" id="progressBar">0%</div>
</div>

<div class="stats">
    أنهيت: <span id="completedDays">0</span> يوم |
    باقي: <span id="remainingDays">20</span> يوم
</div>

<table id="studyTable">
    <thead>
        <tr>
            <th>اليوم</th>
            <th>كيمياء</th>
            <th>تشريح</th>
            <th>تغذية</th>
            <th>إنهاء</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<script>
const data = [
    ["ص1–7", "ص1–4", "ص1–2"],
    ["ص8–14", "ص5–8", "ص3–4"],
    ["ص15–21", "ص9–12", "ص5–6"],
    ["ص22–28", "ص13–16", "ص7–8"],
    ["ص29–35", "ص17–20", "ص9–10"],
    ["ص36–42", "ص21–24", "ص11–12"],
    ["ص43–49", "ص25–28", "ص13–14"],
    ["ص50–56", "ص29–32", "ص15–16"],
    ["ص57–63", "ص33–36", "ص17–18"],
    ["ص64–70", "ص37–40", "ص19–20"],
    ["ص71–77", "ص41–44", "ص21–22"],
    ["ص78–84", "ص45–48", "ص23–24"],
    ["ص85–91", "ص49–52", "ص25–26"],
    ["ص92–98", "ص53–56", "ص27–28"],
    ["ص99–105", "ص57–60", "ص29–30"],
    ["ص106–112", "ص61–64", "ص31–32"],
    ["ص113–119", "ص65–68", "ص33–34"],
    ["ص120–126", "ص69–72", "ص35–36"],
    ["ص127–133", "ص73–76", "ص37–38"],
    ["ص134–143", "ص77–79", "ص39–49"]
];

const tbody = document.querySelector("#studyTable tbody");

data.forEach((day, index) => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
        <td>اليوم ${index + 1}</td>
        <td>${day[0]}</td>
        <td>${day[1]}</td>
        <td>${day[2]}</td>
        <td><input type="checkbox" data-day="${index}"></td>
    `;
    tbody.appendChild(tr);
});

const checkboxes = document.querySelectorAll('input[type="checkbox"]');

function updateProgress() {
    const total = checkboxes.length;
    const completed = document.querySelectorAll('input[type="checkbox"]:checked').length;
    const percent = Math.round((completed / total) * 100);
    document.getElementById("progressBar").style.width = percent + "%";
    document.getElementById("progressBar").textContent = percent + "%";
    document.getElementById("completedDays").textContent = completed;
    document.getElementById("remainingDays").textContent = total - completed;
}

checkboxes.forEach(cb => {
    const dayIndex = cb.getAttribute("data-day");
    if (localStorage.getItem(`day${dayIndex}`) === "true") {
        cb.checked = true;
        cb.closest("tr").classList.add("done");
    }
    cb.addEventListener("change", () => {
        localStorage.setItem(`day${dayIndex}`, cb.checked);
        cb.closest("tr").classList.toggle("done", cb.checked);
        updateProgress();
    });
});

updateProgress();
</script>

</body>
</html>
